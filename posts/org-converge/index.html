<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <meta charset="utf-8">
  <title>
    
      More org tools: Org Converge &ndash;
    
    Waldemar Quevedo
  </title>

  <meta name="author" content="Waldemar Quevedo" />
  <meta name="description" content="PaaS, Org mode, living in Tokyo & other misc writings." />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <link rel="alternate" type="application/rss+xml" href="/atom.xml" />

  <link rel="stylesheet" href="/css/fontawesome.min.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="/css/base.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="/css/pygments.css" type="text/css" />
  <link media="only screen and (max-device-width: 480px)" href="/css/mobile.css" type="text/css" rel="stylesheet" />
  <link media="only screen and (device-width: 768px)" href="/css/mobile.css" type="text/css" rel="stylesheet" />
  <link href='http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz' rel='stylesheet' type='text/css'>
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />

  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  <script type="text/javascript" src="/js/application.js"></script>
</head>

<body>
  <section class="sidebar">
    <a href="/">
      <img src="http://gravatar.com/avatar/210dbb68c0380da4d77ff46759f02d1a?s=150" height="75" width="75" class="avatar" />
    </a>

    <section class="name">
      <a href="/">
        <span id="fname">Waldemar</span>
        <span id="lname">Quevedo</span>
      </a>
    </section>

    <section class="description">
      <p>
        PaaS, Org mode, living in Tokyo & other misc writings.
      </p>
    </section>

    <section class="meta">
      <a href="https://github.com/wallyqs" target="_blank"><i class="icon icon-github"></i></a>
      <a href="https://twitter.com/wallyqs" target="_blank"><i class="icon icon-twitter"></i></a>
      <a href="/atom.xml"><i class="icon icon-rss"></i></a>
    </section>

    <section class="sections">
      <ul>
        <li><a href="/about.html">about</a></li>
        <li><a href="/posts.html">posts</a></li>
      </ul>
    </section>
  </section>

  <section class="content">
  <h1>
    <a href="/posts/org-converge">More org tools: Org Converge</a>
  </h1>

  <section class="byline">
    April 21, 2014
  </section>

  
<p>In a past release from <a href="https://github.com/wallyqs/org-ruby">Org Ruby</a>, I added the functionality to be able
  to turn off exporting the results attached to a code block. For
  example, here only the actual code would make it to the export:</p>
<div class="highlight"><pre>#+begin_src sh :results code
echo &#39;hello&#39;
#+end_src

#+RESULTS:
#+BEGIN_SRC sh
hello
#+END_SRC
</pre></div>
<p>Doing this involved adding support to parse the header arguments from
  a code block, so I decided to start playing with the idea of
  implementing <i>tangling</i> code blocks:</p>
<div class="highlight"><pre>#+begin_src sh :tangle /etc/component.yml
port: 4000
#+end_src
</pre></div>
<p>This is just a subset of the functionality provided by the powerful
  <b>Org babel</b> mode, and still very basic since it does not support
  <code>#+MACROS</code> for example, which would make feature more convenient.</p>
<p>After doing this, and since this is all Ruby, I imagined that since
  there is good interop with other reliable Ruby tools, it would be
  interesting to reopen <code>foreman</code> for actually running the blocks.</p>
<p>All this functionality is wrapped into a gem named <code>org-converge</code>
  (<a href="https://github.com/wallyqs/org-converge.git">repo here</a>),
  name that way in the sense that all reproducible runs should converge
  into a state. In the future, I hope to have some Chef/Ansible like
  features, but for now integration between has been nice.</p>
<p>I have been using lately for doing literate runs, and I have found it
  pretty comfortable for cases where using the command line is
  the best approach.</p>
<script src="https://gist.github.com/wallyqs/11141778.js"></script>
<p>Sometimes it feels that this is reinventing the wheel though, since
  many of these things could be done with something like <code>make</code> for
  example. Precisely for that, the next step is to give it some Rake
  like tasks, to be able to <i>chain</i> runlists.</p>




  <section class="meta">
    <h3>Discussion, links, and tweets</h3>
    <section class="copy">
      <a href="https://twitter.com/wallyqs" target="_blank">
        <img src="http://gravatar.com/avatar/210dbb68c0380da4d77ff46759f02d1a?s=142" height="50" width="50" />
      </a>

      <p>
        I do Dev&amp;Ops at Rakuten in the Platform as a Service team, where I have focused
        on solving logging related issues as well as Ruby support.
        I'm also a contributor and current maintainer of the <a href="https://github.com/bdewey/org-ruby">org-ruby</a> gem, 
        in case you find some functionality missing please issue a ticket <a href="https://github.com/bdewey/org-ruby/issues">here</a>
        please. Thanks :)
      </p>

      <a href="http://twitter.com/share" class="twitter-share-button" data-count="none" data-via="wallyqs">Tweet</a>
      <a href="http://twitter.com/wallyqs" class="twitter-follow-button" data-show-count="false">Follow @wallyqs</a>
      <script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
    </section>

    <div id="disqus_thread"></div>
    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'wallyqs-blog'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </section>
</section>

</body>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-45988428-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</html>
